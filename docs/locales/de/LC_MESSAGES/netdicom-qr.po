# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2013-2020, The Royal Marsden NHS Foundation Trust
# This file is distributed under the same license as the OpenREM package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2020.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: OpenREM 1.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-09-04 12:05+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.8.0\n"

#: ../../netdicom-qr.rst:3 306784a8c2b94ed192eb8401d394602b
msgid "DICOM Query Retrieve Service"
msgstr ""

#: ../../netdicom-qr.rst:6 97162c8226d340dab801404921e4bd2c
msgid ""
"To query retrieve dose related objects from a remote server, you need to "
"review the :doc:`netdicom-store` documents first to make sure you have "
"created a DICOM Store node which will import objects to OpenREM."
msgstr ""

#: ../../netdicom-qr.rst:9 6ace2de3d8094bf88e28d363fdfa2601
msgid ""
"You will also need to set up the remote server to allow you to query-"
"retrieve using it - the remote server will need to be configured with "
"details of the store node that you have configured."
msgstr ""

#: ../../netdicom-qr.rst:14 157b1ad21e2140edb18c6a49201034c3
msgid "Query-retrieve using the web interface"
msgstr ""

#: ../../netdicom-qr.rst:22 f9ecb3b8953d4699850e190e77f091f7
msgid "Figure 1: Import Query-Retrieve menu"
msgstr ""

#: ../../netdicom-qr.rst:24 1eff1800a2854845aff832df7785e30a
msgid ""
"On the Imports menu, select ``Query remote server`` - see figure 1. If "
"the menu isn't there, you need to check your user permissions -- see :ref"
":`user-settings` for details."
msgstr ""

#: ../../netdicom-qr.rst:26 bb666431327e4e1881eead27bdf39e87
msgid ""
"Each configured query-retrieve node and each local store node is "
"automatically tested to make sure they respond to a DICOM echo - the "
"results are presented at the top of the page. See figure 2 for an "
"example."
msgstr ""

#: ../../netdicom-qr.rst:35 2c7591c839a244c98404be8a23b97d3b
msgid "Figure 2: Local and remote QR statuses"
msgstr ""

#: ../../netdicom-qr.rst:37 496f35a108954c36a0ebf5b79bb29ad2
msgid ""
"Select the desired **remote host**, ie the PACS or modality you wish to "
"query."
msgstr ""

#: ../../netdicom-qr.rst:38 d1eecc59082d4f06b27506aca91b7fc1
msgid "Select the local **store node** you want to retrieve to."
msgstr ""

#: ../../netdicom-qr.rst:39 e1f5d3b7298a49d9ac469779cca6a82f
msgid ""
"Select **which modalities** you want to query for - at least one must be "
"ticked."
msgstr ""

#: ../../netdicom-qr.rst:40 7a5c2ecd7fcc48c1a384aea048da9344
msgid ""
"Select a **date range** - the wider this is, the more stress the query "
"will place on the remote server, and the higher the likelyhood of the "
"query being returned with zero results (a common configuration on the "
"remote host to prevent large database queries affecting other services). "
"Defaults to 'from yesterday'."
msgstr ""

#: ../../netdicom-qr.rst:43 14577127c2264ca591c9bcac7fc95e83
msgid ""
"If you wish to **exclude studies** based on their study description, "
"enter the text here. Add several terms by separating them with a comma. "
"One example would be to exclude any studies with ``imported`` in the "
"study description, if your institution modifies this field on import. The"
" matching is case-insensitive."
msgstr ""

#: ../../netdicom-qr.rst:46 facd11df62af4d8a8f3a022f18ef2562
msgid ""
"Alternatively, you might want to only **keep studies** with particular "
"terms in the study description. If so, enter them in the next box, comma "
"separated."
msgstr ""

#: ../../netdicom-qr.rst:48 d67cdbe2eeb64bac908ce0fc8feb74c1
msgid ""
"You can also **exclude studies by station name**, or only keep them if "
"they match the station name. This is only effective if the remote system "
"(the PACS) supports sending back station name information."
msgstr ""

#: ../../netdicom-qr.rst:52 f7781537a984420e97292c6d371c6150
msgid "Advanced query options"
msgstr ""

#: ../../netdicom-qr.rst:54 5d1e8e797f054353a0c811a45ba547f0
msgid ""
"**Attempt to get Toshiba dose images** *default not ticked*: If you have "
"done the extra installation and configuration required for creating RDSRs"
" from older Toshiba scanners, then you can tick this box for `CT` "
"searches to get the images needed for this process. See the logic "
"description below for details."
msgstr ""

#: ../../netdicom-qr.rst:57 add8c7fd1b674328b233ec62fe523c20
msgid ""
"**Ignore studies already in the database** *default ticked*: By default "
"OpenREM will attempt to avoid downloading any DICOM objects (RDSRs or "
"images) that have already been imported into the database. Untick this "
"box to override that behaviour and download all suitable objects. See the"
" logic description below for details."
msgstr ""

#: ../../netdicom-qr.rst:60 b81c05c40041442f806fc36a96c9b68f
msgid ""
"**Include SR only studies** *default not ticked*: If you have a DICOM "
"store with only the radiation dose structured reports (RDSR) in, or a mix"
" of whole studies and RDSRs without the corresponding study, then tick "
"this box. Any studies with images and RDSRS will be ignored (they can be "
"found without this option). If this box is ticked any modality choices "
"will be ignored."
msgstr ""

#: ../../netdicom-qr.rst:64 f7768b4eb9334714b7f6bde366119412
msgid ""
"**Get SR series that return nothing at image level query** *default not "
"ticked*: If you have a DICOM store with SR series that you know contain "
"RDSR objects, but when queried your store says they are empty, then check"
" this box. If this behaviour is found, a message will be added to the "
"``openrem_qr.log`` at ``INFO`` level with the phrase ``Try '-emptysr' "
"option?``. With the box checked the query will assume any SR series found"
" contains an RDSR. Warning: with this behavior, any non-RDSR structured "
"report series (such as a radiologists report encoded as a structured "
"report) will be retrieved instead of images that could actually be used "
"(for example with mammography and digital radiographs). Therefore this "
"option should be used with caution!"
msgstr ""

#: ../../netdicom-qr.rst:72 8b975055f603455c89e77a4f3fbe39a8
msgid "When you have finished the query parameters, click ``Submit``"
msgstr ""

#: ../../netdicom-qr.rst:75 0be73220bd67486fbce033befaf9b522
msgid "Review and retrieve"
msgstr ""

#: ../../netdicom-qr.rst:77 335a39445ca8400b90da1806f51c0346
msgid ""
"The progress of the query is reported on the right hand side. If nothing "
"happens, ask the administrator to check if the celery queue is running."
msgstr ""

#: ../../netdicom-qr.rst:80 4cc1cf49db424e3ba9f84f860e6ede8a
msgid ""
"Once all the responses have been purged of unwanted modalities, study "
"descriptions or study UIDs, the number of studies of each type will be "
"displayed and a button appears. Click ``Retrieve`` to request the remote "
"server send the selected objects to your selected Store node. This will "
"be based on your original selection - changing the node on the left hand "
"side at this stage will have no effect."
msgstr ""

#: ../../netdicom-qr.rst:85 b2748bfc03d041c9806f469bbcd2df6b
msgid ""
"The progress of the retrieve is displayed in the same place until the "
"retrieve is complete."
msgstr ""

#: ../../netdicom-qr.rst:91 c18b205c4df2421295dff2f4c283839f
msgid "Query-retrieve using the command line interface"
msgstr ""

#: ../../netdicom-qr.rst:93 244d8179cbce4aaa94fbeb5dcc5b885b
msgid ""
"In a command window/shell, ``python openrem_qr.py -h`` should present you"
" with the following output:"
msgstr ""

#: ../../netdicom-qr.rst:142 17946db9487a46888a128f2b705eb540
msgid ""
"As an example, if you wanted to query the PACS for DX images on the 5th "
"and 6th April 2010 with any study descriptions including ``imported`` "
"excluded, first you need to know the database IDs of the remote node and "
"the local node you want the images sent to. To find these, go to the :doc"
":`netdicom-nodes` page where the database ID is listed among the other "
"details for each node."
msgstr ""

#: ../../netdicom-qr.rst:147 2d50012954d343af88d745064d890bf2
msgid ""
"Assuming the PACS database ID is 2, and the store node ID is 1, the "
"command would look something like:"
msgstr ""

#: ../../netdicom-qr.rst:153 7068af4e2b714cd88b37ad02c5a3eb97
msgid ""
"If you want to do this regularly to catch new studies, you might like to "
"use a script something like this on linux:"
msgstr ""

#: ../../netdicom-qr.rst:166 e69fb4789e344572bb74043d981edba1
msgid ""
"This script could be run once an hour using a cron job. By asking for the"
" date an hour ago, you shouldn't miss exams taking place in the last hour"
" of the day."
msgstr ""

#: ../../netdicom-qr.rst:169 4e81297fe1d44b1aaf094a9f2479235d
msgid ""
"A similar script could be created as a batch file or PowerShell script on"
" Windows and run using the scheduler. An example PowerShell script is "
"shown below:"
msgstr ""

#: ../../netdicom-qr.rst:181 0d51d3448df847b9807fef03753d3a41
msgid ""
"The above PowerShell script could be run on a regular basis by adding a "
"task to the Windows ``Task Scheduler`` that executes the ``powershell`` "
"program with an argument of ``-file C:\\path\\to\\script.ps1``."
msgstr ""

#: ../../netdicom-qr.rst:185 6adb32b44fa74210afe3a77ab32fc961
msgid "Querying with time range"
msgstr ""

#: ../../netdicom-qr.rst:187 fb06bf44d39d45ea91f8d318a2b6ff1d
msgid "*New to OpenREM 0.9.0*"
msgstr ""

#: ../../netdicom-qr.rst:189 65aa56e763c64faca6bd8c32a3db44ee
msgid ""
"It is now possible to query for studies in a time window when using "
"query-retrieve from the command line (web interface version will be "
"introduced later). This can be particularly useful where PACS query "
"responses are limited or null if the query matches too many studies."
msgstr ""

#: ../../netdicom-qr.rst:193 f5d3d89d070a4376b0691140973fecaf
msgid ""
"Using the ``--tfrom``/``-tf`` and/or the ``--tuntil``/``-tt`` arguments "
"are only allowed if ``--single_date``/``-sd`` argument is used."
msgstr ""

#: ../../netdicom-qr.rst:196 4f2e00186ede4bbf93611e26beb18f5c
msgid ""
"Note: ``-sd 2018-03-19`` is the same as using ``-f 2018-03-19 -t "
"2018-03-19``, and can be used without the time arguments."
msgstr ""

#: ../../netdicom-qr.rst:199 e316b582d7aa4925902c9e766e108964
msgid "``-tf`` used without ``-tt`` will search from ``tf`` until 23.59 that day."
msgstr ""

#: ../../netdicom-qr.rst:200 057fbe10de1449b3be33dd88dc91e1d1
msgid "``-tt`` used without ``-tf`` will search from 00.00 to ``tt`` that day."
msgstr ""

#: ../../netdicom-qr.rst:201 034252fb1a2e4043b84b337a5ceb8b41
msgid "``-tf`` and ``-tt`` used together will search from ``tf`` to ``tt``."
msgstr ""

#: ../../netdicom-qr.rst:203 c84dcd4f42e341fa8db44300c736ffa5
msgid ""
"For example, to search for CT from 12 noon to 3pm on 19th March 2018, "
"using remote QR node database ID 2 and local store database ID 1:"
msgstr ""

#: ../../netdicom-qr.rst:214 08ba043b40a545acb94b5fa53ec3c1f1
msgid "Query filtering logic"
msgstr ""

#: ../../netdicom-qr.rst:217 1288072ac942424dbfba5cd5b81caebc
msgid "Study level query response processing"
msgstr ""

#: ../../netdicom-qr.rst:219 3ab4969bbd794d268aaf70a08596e003
msgid ""
"First we query for each modality chosen in turn to get matching responses"
" at study level."
msgstr ""

#: ../../netdicom-qr.rst:220 a12204d6b57449ef9c394774b30cf2d9
msgid ""
"If the optional ``ModalitiesInStudy`` has been populated in the response,"
" and if you have ticked ``Include SR only studies``, then any studies "
"with anything other than just ``SR`` studies is removed from the response"
" list."
msgstr ""

#: ../../netdicom-qr.rst:223 6eb95bed35f84bc68b0e90d62a03240e
msgid ""
"If any study description or station name filters have been added, and if "
"the ``StudyDescription`` and/or ``StationName`` tags are returned by the "
"remote server, the study response list is filtered accordingly."
msgstr ""

#: ../../netdicom-qr.rst:225 43c78bf2f9f7459a89f177452f5a2024
msgid "For the remaining study level responses, each series is queried."
msgstr ""

#: ../../netdicom-qr.rst:226 53a11804224c4b3c8a663df3c8414bd0
msgid ""
"If ``ModalitiesInStudy`` was not returned, it is now built from the "
"series level responses."
msgstr ""

#: ../../netdicom-qr.rst:227 3bffb6bb78a143189f253603e91d4d41
msgid ""
"If the remote server returned everything rather than just the modalities "
"we asked for, the study level responses are now filtered against the "
"modalities selected."
msgstr ""

#: ../../netdicom-qr.rst:231 fe15b1eb9f554bba9e5c28579695b193
msgid "Series level query processing"
msgstr ""

#: ../../netdicom-qr.rst:233 96c8460e7d404a3bb4482cdd1c277a16
msgid ""
"Another attempt is made to exclude or only-include if station name "
"filters have been set"
msgstr ""

#: ../../netdicom-qr.rst:235 4e995ba76bdf4c45be2b79bec6490a65
msgid "If **mammography** exams were requested, and a study has ``MG`` in:"
msgstr ""

#: ../../netdicom-qr.rst:237 06e80d12482d46dd9b4dd3873b6c57a9
msgid ""
"If one of the series is of type ``SR``, an image level query is done to "
"see if it is an RDSR. If it is, all the other series responses are "
"deleted (i.e. when the move request/'retrieve' is sent only the RDSR is "
"requested not the images."
msgstr ""

#: ../../netdicom-qr.rst:240 ../../netdicom-qr.rst:246
#: 97848823ad8942059b25033cc8387b24 c49ce0723cf14008b96adc2bf5effc4b
msgid ""
"Otherwise the ``SR`` series responses are deleted and all the image "
"series are requested."
msgstr ""

#: ../../netdicom-qr.rst:242 96fc16726f9241abaca9be688cb99332
msgid ""
"If **planar radiographic** exams were requested, and a study has ``DX`` "
"or ``CR`` in:"
msgstr ""

#: ../../netdicom-qr.rst:244 e78c4d0b9b1f4e049399579f0a9ea4ee
msgid ""
"Any ``SR`` series are checked at 'image' level to see if they are RDSRs. "
"If they are, the other series level responses for that study are deleted."
msgstr ""

#: ../../netdicom-qr.rst:248 48c1a5a0f9214ab395307fe00180d91d
msgid ""
"If **fluoroscopy** exams were requested, and a study has ``RF`` or ``XA``"
" in:"
msgstr ""

#: ../../netdicom-qr.rst:250 41816264b2424a6bbe4a2a0dd0f259bf
msgid ""
"Any ``SR`` series are checked at 'image' level to see if they are RDSRs "
"or ESRs (Enhanced Structured Reports - not currently used but will be in "
"the future). Any other ``SR`` series responses are deleted."
msgstr ""

#: ../../netdicom-qr.rst:252 fb60d8948f704f3ab3cd0b4e2915840d
msgid "All non-``SR`` series responses are deleted."
msgstr ""

#: ../../netdicom-qr.rst:254 49e3c87b1dec4047a653414b585a56dd
msgid "If **CT** exams were requested, and a study has ``CT`` in:"
msgstr ""

#: ../../netdicom-qr.rst:256 4ec4605ab0f64c6fabc53f146c15a6f0
msgid ""
"Any ``SR`` series are checked at 'image' level to see if they are RDSRs. "
"If they are, all other SR and image series responses are deleted. "
"Otherwise, if it has an ESR series, again all other SR and image series "
"responses are deleted."
msgstr ""

#: ../../netdicom-qr.rst:258 742f5b3363144106b4f023786e1bc2d5
msgid ""
"If there are no RDSR or ESR series, the other series are checked to see "
"if they are Philips 'Dose info' series. If there are, other series "
"responses are deleted."
msgstr ""

#: ../../netdicom-qr.rst:260 c65d77b9215e42fb86985fe2e30f55a1
msgid ""
"If there are no RDSR, ESR or 'Dose info' series and the option to get "
"Toshiba images has been selected, then an image level query is performed "
"for the first image in each series. If the image is not a secondary "
"capture, all but the first image are deleted from the image level "
"responses and the image_level_move flag is set. If the image is a "
"secondary capture, the whole series response is kept."
msgstr ""

#: ../../netdicom-qr.rst:264 89c86a9bd5cd46828e781ff12029ec36
msgid ""
"If there are no RDSR or ESR, series descriptions aren't returned and the "
"Toshiba option has been set, the image level query is performed as per "
"the previous point. This process will keep the responses that might have "
"Philips 'Dose info' series."
msgstr ""

#: ../../netdicom-qr.rst:267 0a9bddbcf4c34501a045cefa1674cd63
msgid ""
"If there are no RDSR, ESR, series descriptions aren't returned and the "
"Toshiba option has not been set, each series with more than five images "
"in is deleted from the series response list - the remaining ones might be"
" Philips 'Dose info' series."
msgstr ""

#: ../../netdicom-qr.rst:271 0687bb7e12b94e5480a2450ceb5ef248
msgid "If **SR only studies** were requested:"
msgstr ""

#: ../../netdicom-qr.rst:273 5c24faf37a1842a894b84852e9d36759
msgid ""
"Each series response is checked at 'image' level to see which type of SR "
"it is. If is not RDSR or ESR, the study response is deleted."
msgstr ""

#: ../../netdicom-qr.rst:276 d2e4656b6e0940a7a1e79593961c448e
msgid ""
"If **Get SR series that return nothing at image level query** were "
"requested:"
msgstr ""

#: ../../netdicom-qr.rst:278 d1627b01acd44f8882842b930b9c453a
msgid ""
"It is assumed that any ``SR`` series that appears to be empty actually "
"contains an RDSR, and the other series are dealt with as above for when "
"an RDSR is found. If at the image level query the full data requested is "
"returned, then the series will be processed the same whether this option "
"is selected or not."
msgstr ""

#: ../../netdicom-qr.rst:283 19e686504a1b48d7a9f18047fccb3cce
msgid "Duplicates processing"
msgstr ""

#: ../../netdicom-qr.rst:285 8b0d888831804887b753516fd8fc67dd
msgid ""
"For each remaining study in the query response, the Study Instance UID is"
" checked against the studies already in the OpenREM database."
msgstr ""

#: ../../netdicom-qr.rst:288 4eb09aab1ec143a8b4d1ef792c729e17
msgid ""
"If there is a match and the series level modality is **SR** (from a CT, "
"or RF etc):"
msgstr ""

#: ../../netdicom-qr.rst:290 73b493154b394f3f8c96a073e18fd2c5
msgid ""
"The image level response will have the SOP Instance UID - this is checked"
" against the SOP Instance UIDs recorded with the matching study. If a "
"match is found, the 'image' level response is deleted."
msgstr ""

#: ../../netdicom-qr.rst:293 c2b47940fa604545ac0969f27125e214
msgid ""
"If there is a match and the series level modality is **MG**, **DX** or "
"**CR**:"
msgstr ""

#: ../../netdicom-qr.rst:295 77292000270c47b39ab8fc25b047f76f
msgid ""
"An image level query is made which will populate the image level "
"responses with SOP Instance UIDs"
msgstr ""

#: ../../netdicom-qr.rst:296 97cd3d6228f54d2d92dae51b60042a13
msgid ""
"Each image level response is then processed and the SOP Instance UID is "
"checked against the SOP Instance UIDs recorded with the matching study. "
"If a match is found, the 'image' level response is deleted."
msgstr ""

#: ../../netdicom-qr.rst:299 3ca8c939f5ab4c7d85be594436d9dc4d
msgid "Once each series level response is processed:"
msgstr ""

#: ../../netdicom-qr.rst:301 ea9b5cb567be45909c028ceb016be801
msgid ""
"If the series no longer has any image  level responses the series level "
"response is deleted."
msgstr ""

#: ../../netdicom-qr.rst:302 3132a6564dfb4676aaa1090f682f36f8
msgid ""
"If the study no longer has any series level responses the study level "
"response is deleted."
msgstr ""

#: ../../netdicom-qr.rst:309 e47e01dc31f94316964c00f8cefb8e17
msgid "Troubleshooting: openrem_qr.log"
msgstr ""

#: ../../netdicom-qr.rst:311 90cbd938024b4a87870f5469de0469ab
msgid ""
"If the default logging settings haven't been changed then there will be a"
" log files to refer to. The default location is within your ``MEDIAROOT``"
" folder:"
msgstr ""

#: ../../netdicom-qr.rst:314 7407024d53d04a8683806b6995f70b48
msgid ""
"This file contains information about the query, the status of the remote "
"node, the C-Find response, the analysis of the response, and the "
"individual C-Move requests."
msgstr ""

#: ../../netdicom-qr.rst:317 d8cc0b0e378a49b2ae13ebb1a9e42c81
msgid ""
"The following is an example of the start of the log for the following "
"query which is run once an hour (ie some responses will already have been"
" imported):"
msgstr ""

#: ../../netdicom-qr.rst:392 12bc4a7e07d04a37afdb0574125ffff0
msgid ""
"If you are using an OpenREM native storage node, then you might also like"
" to review :ref:`storetroubleshooting`"
msgstr ""

